{% extends 'layout.html' %} {% block content %}
<div class="container">
  <div class="row my-3">
    <h1>Change logs</h1>
    <hr>
    <a class="btn btn-dark" href="/viewlogs.html">View Logs</a>
    <a class="btn btn-dark my-2" href="/form.html">Add Logs</a>
    <a class="btn btn-dark" href="changelogs.html">Change Logs</a>
  </div>
</div>
  {%if error%}
  <div
    class="container alert alert-danger bg-gradient shadow text-center"
    role="alert">
    <b> {{ error }}</b>
  </div>
  <div></div>
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>
  {% endif %}

<div class="container mt-5">
  <div class="row">
    <h1>Your Work Logs</h1>
    <hr />
    {% if personal_logs %}
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Developer</th>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Time Worked</th>
            <th>Description</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for log in personal_logs %}
          <tr>
            <td>{{ log[0] }}</td>
            <td>{{ log[2] }}</td>
            <td>{{ log[3] }}</td>
            <td>{{ log[4] }}</td>
            <td>{{ log[5] }}</td>
            <td>{{ log[6] }}</td>
            <td>
              <span class="badge bg-secondary">{{ log[7] }}</span>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="alert alert-info" role="alert">
      No logs found.
    </div>
    {% endif %}
</div>

<div class="container">
  <hr>
  <div class="row">
    <form action="/changelogs.html" method="POST">
      <div class="col-auto"></div>
        <label for="log_id" class="form-label mb-2">What log do you want to change</label>
        <input input id="log_id" name="log_id" class="form-control w-100 mb-2" required>
        <label class="form-label mb-2">Developer name</label>
        <input name="developer" class="form-control w-100 mb-2" />
      <div>
        <label for="StartTime" class="mb-2">What time did you start log?</label>
      <div>
          <input
            type="datetime-local"
            name="start_time"
            id="StartTime"
            class="form-control mb-4"
          />
      <div>
        <label for="EndTime" class="form-label mb-2"
          >What time did you finish log?</label>
      <div>
          <input
            type="datetime-local"
            class="form-control mb-4"
            id="EndTime"
            name="end_time"
          />

      <div>
        <label for="TimeSpent" class="form-label mb-2">Time spent working</label>
        <input
          class="form-control mb-4"
          id="TimeSpent"
          name="time_worked"
          placeholder="e.g. 3 hours"
        />
      </div>

      <div class="col-auto">
        <label for="description" class="form-label"
          >Description</label
        >
        <textarea
          class="form-control mb-2"
          name="descriptions"
          id="description"
        ></textarea>
      </div>

      <div class="mb-3">
      <label for="logstatus" class="form-label mb-2">Status</label>
      <select class="form-select" name="status" id="logstatus">
        <option value="" selected disabled>Select Status</option>
        <option value="Public">Public</option>
        <option value="Hidden">Hidden</option>
        <option value="Public">WIP</option>
      </select>
      <div class="form-text">If status is "Hidden", entry won't be shown on All Logs</div>

      <br/>
      <button type="submit" class="btn btn-danger mt-3" name="delete_log" id="delete_form">Delete</button>
      <button type="submit" class="btn btn-primary mt-3" name="update_log">Update</button>
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    </form>
  </div>
</div>
{% endblock %}
