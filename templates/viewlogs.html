{% extends 'layout.html' %} {% block content %}
<div class="container">
  <div class="row my-3">
    <h1>View Logs</h1>
    <hr />
    <a class="btn btn-dark" href="/viewlogs.html">View Logs</a>
    <a class="btn btn-dark my-2" href="/form.html">Add Logs</a>
    <a class="btn btn-dark" href="changelogs.html">Change Logs</a>
  </div>
  {%if error%}
  <div
    class="container alert alert-danger bg-gradient shadow text-center"
    role="alert"
  >
    <b> {{ error }}</b>
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>
  {% endif %}
  <button type="submit" class="btn btn-danger mt-3" name="sort_developer">
    Sort by Developer
  </button>
  <div class="mb-3">
    <label class="form-label mb-2">Sort Time</label>
    <select class="form-select" name="status" id="logstatus">
      <option name="sort_start_time">Start Time</option>
      <option name="sort_end_time">End Time</option>
      <option name="sort_time_worked">Time Worked</option>
    </select>
  </div>
  <div class="container mt-5">
    <div class="row">
      <h1>Your Work Logs</h1>
      <hr />
      {% if personal_logs %}
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th>ID</th>
              <th>Developer</th>
              <th>Start Time</th>
              <th>End Time</th>
              <th>Time Worked</th>
              <th>Description</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for log in personal_logs %}
            <tr>
              <td>{{ log[0] }}</td>
              <td>{{ log[2] }}</td>
              <td>{{ log[3] }}</td>
              <td>{{ log[4] }}</td>
              <td>{{ log[5] }}</td>
              <td>{{ log[6] }}</td>
              <td>
                <span class="badge bg-secondary">{{ log[7] }}</span>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="alert alert-info" role="alert">No logs found.</div>
      {% endif %}
    </div>
    <div class="container mt-2">
      <div class="row">
        <h1>All Logs</h1>
        <hr />
        {% if logs %}
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>Developer</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Time Worked</th>
                <th>Description</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              {% for log in logs %}
              <tr>
                <td>{{ log[0] }}</td>
                <td>{{ log[2] }}</td>
                <td>{{ log[3] }}</td>
                <td>{{ log[4] }}</td>
                <td>{{ log[5] }}</td>
                <td>{{ log[6] }}</td>
                <td>
                  <span class="badge bg-secondary">{{ log[7] }}</span>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        {% else %}
        <div class="alert alert-info" role="alert">No logs found.</div>
      </div>
    </div>
    {% endif %} {% endblock %}
  </div>
</div>
